<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TypeDrop — Typed Contact Book Lookup</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Permanent+Marker&display=swap">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/fontsource/fonts/0x-proto@latest/latin-400-normal.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/fontsource/fonts/0x-proto@latest/latin-700-normal.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1/themes/prism-tomorrow.min.css">
  <link rel="icon" href="../../misc/favicon.svg" type="image/svg+xml">
  <link rel="stylesheet" href="../../style.css">
</head>
<body>
  <main>
    <header>
      <h1><a href="../../index.html" style="color: inherit; text-decoration: none;">TypeDrop</a></h1>
      <p class="tagline">2026-02-24 Challenge</p>
    </header>

    <section class="challenge-card">
      <div class="challenge-header">
        <span class="challenge-date">2026-02-24</span>
        <span class="badge easy">Easy</span>
      </div>
      <h2>Typed Contact Book Lookup</h2>
      <p>You're building a small contact book utility for an internal HR tool. Given a list of contacts with varying optional fields, you must build a strongly-typed lookup index and implement search/filter helpers — the challenge is in the types, not the logic.</p>
      <div class="challenge-goals">
        <h3>Goals</h3>
        <ul>
          <li>Define `ContactIndex`, `ContactSummary`, and `SearchFilters` using the `Record`, `Pick`, and `Partial` built-in utility types respectively.</li>
          <li>Implement `buildIndex` to convert a `Contact[]` into a `ContactIndex` keyed by each contact's `id`.</li>
          <li>Implement `summarise` to extract only the `id`, `name`, `email`, and `department` fields from every contact in a `ContactIndex`.</li>
          <li>Implement `filterContacts` to return contacts matching ALL provided filter fields, with special subset-matching logic for the optional `tags` array.</li>
        </ul>
      </div>
      <div class="code-block">
        <div class="code-block-header">
          <span class="dot red"></span>
          <span class="dot yellow"></span>
          <span class="dot green"></span>
          <span class="code-block-title">challenge.ts</span>
        </div>
        <pre><code class="language-typescript">/** The department a contact belongs to. */
type Department = &quot;engineering&quot; | &quot;design&quot; | &quot;marketing&quot; | &quot;hr&quot; | &quot;finance&quot;;

/** A contact's role seniority. */
type Seniority = &quot;junior&quot; | &quot;mid&quot; | &quot;senior&quot; | &quot;lead&quot; | &quot;manager&quot;;

interface Contact {
  id: string;
  name: string;
  email: string;
  department: Department;
  seniority: Seniority;
  phone?: string;
  tags?: string[];
}

// Your job: define these three types using built-in utility types...
type ContactIndex  = Record&lt;string, Contact&gt;;       // TODO: use Record&lt;&gt;
type ContactSummary = Pick&lt;Contact, &quot;id&quot; | ...&gt;;    // TODO: use Pick&lt;&gt;
type SearchFilters  = Partial&lt;Contact&gt;;             // TODO: use Partial&lt;&gt;

// ...then implement these three functions:
function buildIndex(contacts: Contact[]): ContactIndex { ... }
function summarise(index: ContactIndex): ContactSummary[] { ... }
function filterContacts(contacts: Contact[], filters: SearchFilters): Contact[] { ... }</code></pre>
      </div>
      <details class="challenge-hints-details">
        <summary>Hints (click to reveal)</summary>
      <div class="challenge-hints">
        <h3>Hints</h3>
        <ul>
          <li>For `filterContacts`, iterate over the keys of the `filters` object with `Object.keys` — but remember each value may be `undefined` (Partial!), so skip those keys entirely.</li>
          <li>When checking `tags`, `Array.prototype.every` paired with `Array.prototype.includes` is your friend for verifying that all filter tags exist on the contact.</li>
          <li>The `Pick` utility type takes a type and a union of string literal keys: `Pick&lt;Contact, 'id' | 'name'&gt;` — make sure you only name the four required fields for `ContactSummary`.</li>
        </ul>
      </div>
      </details>
      <div class="challenge-docs">
        <h3>Useful resources</h3>
        <ul>
          <li><a href="https://www.typescriptlang.org/docs/handbook/utility-types.html" target="_blank" rel="noopener noreferrer">TypeScript Utility Types (Pick, Partial, Record)</a></li>
          <li><a href="https://www.typescriptlang.org/docs/handbook/2/objects.html" target="_blank" rel="noopener noreferrer">TypeScript Handbook — Object Types &amp; Optional Properties</a></li>
          <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/every" target="_blank" rel="noopener noreferrer">MDN — Array.prototype.every()</a></li>
          <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys" target="_blank" rel="noopener noreferrer">MDN — Object.keys() / Object.values()</a></li>
        </ul>
      </div>
      <div class="cta-row">
        <a class="cta-button cta-primary" href="https://stackblitz.com/github/niltonheck/typedrop/tree/challenge/2026-02-24" target="_blank" rel="noopener noreferrer">
          <img class="sb-icon" src="https://cdn.simpleicons.org/stackblitz/e0e0e0" alt=""> StackBlitz
        </a>
        <a class="cta-button" href="https://codesandbox.io/p/devbox/github/niltonheck/typedrop/tree/challenge/2026-02-24" target="_blank" rel="noopener noreferrer">
          <img class="csb-icon" src="https://cdn.simpleicons.org/codesandbox/e0e0e0" alt=""> CodeSandbox
        </a>
      </div>
      <div class="clone-section">
        <h3>Or clone locally</h3>
        <div class="clone-box">
          <code id="clone-cmd">git clone -b challenge/2026-02-24 https://github.com/niltonheck/typedrop.git</code>
          <button class="clone-copy-btn" onclick="navigator.clipboard.writeText(document.getElementById('clone-cmd').textContent).then(()=>{this.textContent='Copied!';this.classList.add('copied');setTimeout(()=>{this.textContent='Copy';this.classList.remove('copied')},2000)})">Copy</button>
        </div>
      </div>
    </section>

    <footer>
      <p>
        <a href="../../index.html">&larr; Today's challenge</a>
        &middot;
        <a href="../../archive.html">Archive</a>
      </p>
    </footer>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/prismjs@1/prism.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-typescript.min.js"></script>
  <script data-goatcounter="https://niltonheck.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>
</body>
</html>